{% extends 'layout.html' %}

{% block center %}
    <div class="section">
        <h4>Past 4 Years</h4>
        <table class="table table-condensed table-striped hide-rows table-bordered">
            <tr style="text-align: right">
                <th>Year</th>
                <th>Satisfied (%)</th>
                <th>Average</th>
                <th>Teaching</th>
                <th>Content</th>
                <th>Facilities</th>
                <th>Admin</th>
                <th>Catering</th>
                <th>Accomm</th>
                <th>Sent</th>
                <th>Returned</th>
            </tr>
            {% for year, data in feedback_years.items %}
                <tr style="text-align: right">
                    <td><a href="{% url 'feedback:results-year' year %}">{{ year }}</a></td>
                    <td>
                    {% if data.satisfied %}
                        {{ data.satisfied | floatformat:0 }}
                    {% else %}
                        &ndash;
                    {% endif %}
                    </td>
                    <td>{{ data.average|floatformat:1 }}</td>
                    <td>{{ data.teaching|floatformat:1 }}</td>
                    <td>{{ data.content|floatformat:1 }}</td>
                    <td>{{ data.facilities|floatformat:1 }}</td>
                    <td>{{ data.admin|floatformat:1 }}</td>
                    <td>{{ data.catering|floatformat:1 }}</td>
                    <td>{{ data.accommodation|floatformat:1 }}</td>
                    <td>{{ data.sent }}</td>
                    <td>{{ data.returned | default:'-'}}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}
