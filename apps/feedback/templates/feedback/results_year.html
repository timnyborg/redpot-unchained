{% extends 'layout.html' %}
{% load feedback_tags %}

{% block center %}
    <div class="section">
        <h4>Summary</h4>
        <table class="table table-condensed table-striped hide-rows table-bordered">
            <tr style="text-align: right">
                <th>Year</th>
                <th>Satisfied (%)</th>
                <th>Average</th>
                <th>Teaching</th>
                <th>Content</th>
                <th>Facilities</th>
                <th>Admin</th>
                <th>Catering</th>
                <th>Accomm</th>
                <th>Sent</th>
                <th>Returned</th>
            </tr>
            <tr style="text-align: right">
                <td>{{ year_data.year }}</td>
                <td>{{ year_data.satisfied|floatformat:0 }}</td>
                <td>{{ year_data.average|floatformat:1 }}</td>
                <td>{{ year_data.teaching|floatformat:1 }}</td>
                <td>{{ year_data.content|floatformat:1 }}</td>
                <td>{{ year_data.facilities|floatformat:1 }}</td>
                <td>{{ year_data.admin|floatformat:1 }}</td>
                <td>{{ year_data.catering|floatformat:1 }}</td>
                <td>{{ year_data.accommodation|floatformat:1 }}</td>
                <td>{{ year_data.sent }}</td>
                <td>{{ year_data.returned | default:'-'}}</td>
            </tr>
        </table>

        <h4>Detail</h4>
        {% for module in modules_list %}
            <table class = "table table-striped table-hover table-bordered">
                <tbody>
                    <tr>
                        <td class="feedback-green feedback-comment">
                            <a href="{% url 'feedback:results-module' module.code %}">{{ module.code }}</a> - {{ module.title }}
                        </td>
                        <td class="{% score_color module.satisfied %}">{{ module.satisfied|floatformat:0 }}<br>Satisfied</td>
                        <td class="{% score_color module.average %}">{{ module.average|floatformat:1 }}<br>Average</td>
                        <td class="{% score_color module.teaching %}">{{ module.teaching|floatformat:1 }}<br>Teaching</td>
                        <td class="{% score_color module.content %}">{{ module.content|floatformat:1 }}<br>Content</td>
                        <td class="{% score_color module.facilities %}">{{ module.facilities|floatformat:1 }}<br>Facilities</td>
                        <td class="{% score_color module.admin %}">{{ module.admin|floatformat:1 }}<br>Admin</td>
                        <td class="{% score_color module.catering %}">{{ module.catering|floatformat:1 }}<br>Catering</td>

                        <td class="feedback-gray">{{ module.sent }}<br>Sent</td>
                        <td class="feedback-gray">{{ module.returned }}<br>Returned</td>
                    </tr>
                </tbody>
            </table>
        {% endfor %}

    </div>
{% endblock %}
