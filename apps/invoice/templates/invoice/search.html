{% extends 'layout.html' %}
{% load redpot_tags %}
{% load render_table from django_tables2 %}
{% load widget_tweaks %}

{% block center %}
<div class="section">
    <div class="row">
        <div class="col-xs-12 col-md-8">
            <h2>Lookup</h2>
            <form method='POST' action="{% url 'invoice:lookup' %}" class='form-horizontal'>
                {% csrf_token %}
                <div class="input-group col-xs-12 col-sm-6">
                    {% render_field form.number class+="form-control" %}
                    <span class="input-group-btn">
                        <button class="btn btn-primary" type="submit">
                            <i class="fa fa-search"></i> Find
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="section">
	<div class="row">
		<div class="col-xs-12 col-md-8">
            <h2>Search</h2>
            <form action="" class='form-horizontal'>
                {% bootstrap3form filter.form False %}
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        {% bootstrap3submit 'Search' %}
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% if request.GET %}
	<div class="section">
		{% if table.rows %}
			<h3>Search results ({{ table.rows|length }})</h3>
			{% render_table table %}
		{% else %}
		<div class="empty-state">
            <span class="fa fa-ban empty-state-icon"></span>
            <h4>No results found</h4>
            <h5>
            Try broadening your query and search again
            </h5>
		</div>
		{% endif %}
	</div>
{% endif %}
{{ filter.form.media }}
{% endblock %}
